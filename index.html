<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
        <link rel="stylesheet" href="css/style.css" />
    </head>
    <body>
        <!--tunes-->
        <section id="tunes" class="buffer">
            <a href="#tunes-manager">Tunes</a>
            <div id="tunes-manager" class="modal fade in">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <a class="close" href="#"><span aria-hidden="true">x</span></a>
                            <h4 class="modal-title">Tunes</h4>
                        </div>
                        <div class="modal-body">
                            <div>
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th>Instrument</th>
                                            <th></th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr rv-each-tune="model.tunes" rv-class-active="tune.id | eq model.active.id">
                                            <td>{ tune.name }</td>
                                            <td>{ tune.instrument }</td>
                                            <td><a href="#" rv-on-click="actions.load">Load</a></td>
                                            <td><a href="#tunes-manager" rv-on-click="actions.delete">Delete</a></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="form-horizontal">
                                <h4>Create Tune</h4>
                                <form rv-on-submit="actions.create">
                                    <div class="form-group">
                                        <label for="new-tune-name" class="col-sm-2 control-label">Name</label>
                                        <div class="col-sm-10">
                                            <input id="new-tune-name" type="string" class="form-control" required rv-value="newTune.name" />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="new-tune-instrument" class="col-sm-2 control-label">Instrument</label>
                                        <div class="col-sm-10">
                                            <select id="new-tune-instrument" class="form-control" required rv-value="newTune.instrument">
                                                <option rv-each-instrument="instruments" rv-value="instrument">{ instrument }</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div>
                                        <button>Create</button>
                                    </div>
                                </form>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!--tablature-->
        <section id="tablature" class="buffer">
            <div>
                <div>
                    { activeTune.tune.name }
                </div>
                <div>
                    { activeTune.tune.instrument }
                </div>
            </div>
            <div class="bars buffer">
                <div class="bar bar__tab" rv-each-bar="model.bars">
                    <div class="crotchet" rv-each-crotchet="bar.crotchets">
                        <div class="quaver" rv-each-quaver="crotchet.quavers">
                            <div class="string" rv-each-string="quaver.strings">{ string.fret | default '&nbsp' }</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!--play-->
        <section id="play" class="buffer">
            <div>
                <div class="form-inline">
                    <div class="form-group">
                        <label for="bpm" class="col-sm-2 control-label">BPM</label>
                        <div class="col-sm-10">
                            <input id="bpm" type="number" class="form-control" required rv-value="model.bpm" />
                        </div>
                    </div>
                    <div>
                        <button type="button" rv-on-click="actions.play">Play</button>
                    </div>
                </div>
            </div>
        </section>
        <!--scripts-->
        <!--framework-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/rivets/0.8.1/rivets.bundled.min.js"></script>
        <!--midi-->
        <script src="js/lib/MIDI.js"></script>
        <script src="assets/midi/acoustic_grand_piano-mp3.js"></script><!--async only if required?-->
        <!--app-->
        <script data-main="app/app" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.22/require.min.js"></script>
    </body>
</html>