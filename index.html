<!DOCTYPE html>
<html>
    <head>
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" />
        <link rel="stylesheet" href="css/style.css" />
    </head>
    <body>
        <!--tunes-->
        <section id="tunes" class="buffer">
            <a href="#tunes-manager">Tunes</a>
            <div id="tunes-manager" class="modal fade in">
                <div class="modal-dialog">
                    <div class="modal-content">
                        <div class="modal-header">
                            <a class="close" href="#"><span aria-hidden="true">x</span></a>
                            <h4 class="modal-title">Tunes</h4>
                        </div>
                        <div class="modal-body">
                            <div>
                                <table class="table">
                                    <thead>
                                        <tr>
                                            <th>Name</th>
                                            <th></th>
                                            <th></th>
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr rv-each-tune="model.tunes" rv-class-active="tune.id | eq model.tune.id">
                                            <td>{ tune.name }</td>
                                            <td><a href="#" rv-on-click="actions.load">Load</a></td>
                                            <td><a href="#tunes-manager" rv-on-click="actions.delete">Delete</a></td>
                                        </tr>
                                    </tbody>
                                </table>
                            </div>
                            <div class="form-horizontal">
                                <h4>Create Tune</h4>
                                <div>
                                    <div class="form-group">
                                        <label for="new-tune-name" class="col-sm-2 control-label">Name</label>
                                        <div class="col-sm-10">
                                            <input id="new-tune-name" type="string" class="form-control" required rv-value="newTune.name" />
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="new-tune-instrument" class="col-sm-2 control-label">Instrument</label>
                                        <div class="col-sm-10">
                                            <select id="new-tune-instrument" class="form-control" required
                                                rv-value="newTune.instrumentName" rv-on-change="actions.selectInstrument">
                                                <option rv-each-instrument="instruments" rv-value="instrument">{ instrument }</option>
                                            </select>
                                        </div>
                                    </div>
                                    <div>
                                        <button type="button" rv-on-click="actions.create">Create</button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!--tablature-->
        <section id="tablature" class="buffer" rv-show="hasTune">
            <div>
                <div>
                    { part.tune.name }
                </div>
            </div>
            <div class="bars buffer">
                <div class="bar bar__tab" rv-each-bar="model.bars">
                    <div class="crotchet" rv-each-crotchet="bar.crotchets">
                        <div class="quaver" rv-each-quaver="crotchet.quavers">
                            <div class="string" rv-each-string="quaver.strings">{ string.fret | default '&nbsp' }</div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
        <!--play-->
        <section id="audio" class="buffer">
            <div rv-show="model.ready">
                <form class="form-inline">
                    <div class="form-group">
                        <label for="bpm" class="control-label">BPM</label>
                        <input id="bpm" type="number" class="form-control" required rv-min="model.bounds.bpm.min" max="model.bounds.bpm.max" rv-value="model.bpm" />
                    </div>
                    <div class="buffer-sm">
                        <button type="button" rv-on-click="actions.start">Start</button>
                        <button type="button" rv-on-click="actions.resume">Resume</button>
                        <button type="button" rv-on-click="actions.stop">Stop</button>
                    </div>
                    <div>
                        <div rv-each-note="notes">{ note.note }{ note.octave }</div>
                    </div>
                </form>
            </div>
            <div class="loading" rv-show="model.loading">
                <br/>
                Loading sounds...
            </div>
        </section>
        <!--scripts-->
        <!--framework-->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/rivets/0.8.1/rivets.bundled.min.js"></script>
        <!--midi-->
        <script src="js/lib/MIDI.js"></script>
        <script src="js/lib/shim/Base64.js" type="text/javascript"></script>
        <script src="js/lib/shim/Base64binary.js" type="text/javascript"></script>
        <script src="js/lib/shim/WebAudioAPI.js" type="text/javascript"></script>
        <!--app-->
        <script data-main="app/app" src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.1.22/require.min.js"></script>
    </body>
</html>